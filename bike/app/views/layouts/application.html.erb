<!DOCTYPE html>
<html>
<head>
	<%= include_gon %>
	<%= favicon_link_tag 'bike_copy.png' %>
	<link href='http://fonts.googleapis.com/css?family=Lily+Script+One|Open+Sans' rel='stylesheet' type='text/css'>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta charset="utf-8">
  <title>Bike There</title>

  <script src="https://www.google.com/jsapi"></script>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAPjjq-ilS03GrIk9Og-wC1ulb0ymN_zmU&sensor=false"></script>
	    <!-- // <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=weather"></script> -->

  <%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true %>
  <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
  <%= csrf_meta_tags %>

	
</head>
<body>
<div id="navigation">
	<div class="navbar">
		<a href='/bikethere' data-no-turbolink>
			<div id="title">
			Bike There
		</div></a>
		<div class="navbar-header navbar-right">
    <% if signed_in? %>
      <p class="navbar-text">
        <%= link_to "My profile", current_user %>
      </p>
      <p class="navbar-text">
        <%= link_to "Sign out", signout_path, method: "delete" %>
      </p>
    <% else %>
      <p class="navbar-text" data-toggle="modal" data-target="#signUpModal">
        <%= link_to "Sign up", signup_path %>
      </p>
      <p class="navbar-text" data-toggle="modal" data-target="#signInModal" id="signin">
        <%= link_to "Sign in", signin_path %>
      </p>
    <% end %>
  </div>
</div>
</div>

<!-- sign in modal -->
<div class="modal fade" id="signInModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Sign in</h4>
      </div>
      <div class="modal-form">
        <%= form_for(:session, url: sessions_path) do |f| %>

            <%= f.label :email %>
            <%= f.text_field :email %>

            <%= f.label :password %>
            <%= f.password_field :password %>

            <p class="navbar-text" data-toggle="modal" data-target="#signUpModal">
        	New user? <%= link_to "Sign up now!", signup_path %></p>

            <%= f.submit "Sign in", class: "btn btn-large btn-ocean"%>
        <% end %>
        
       </div>
    </div>
  </div>
</div>


<!-- sign up modal -->
<div class="modal fade" id="signUpModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Sign up</h4>
      </div>
      	<div class="modal-form">
        <%= form_for(@user= User.new()) do |f| %>
          <% unless @user.errors.count == 0   %>
          <div class="alert alert-error">
              The form contains <%= pluralize(@user.errors.count, "error") %>
          </div>
          <ul>
          <% @user.errors.full_messages.each do |msg| %>
              <li>* <%= msg %></li>
          <% end %>
          </ul>
          <% end %>

          <%= f.label :name %>
          <%= f.text_field :name %>
          <br>

          <%= f.label :email %>
          <%= f.text_field :email %>
          <br>

          <%= f.label :password %>
          <%= f.password_field :password %>
          <br>

          <%= f.label :password_confirmation, "Confirmation" %>
          <%= f.password_field :password_confirmation %>
          <br>

          <%= f.submit "Create my account", class: "btn btn-large btn-ocean" %>
      	<% end %>
      </div>
		</div>
  </div>
</div>



<%= yield %>

</body>
</html>
